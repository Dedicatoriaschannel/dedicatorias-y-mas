---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import CelebraHoy from '../components/CelebraHoy.astro';
import VideoGrid from '../components/VideoGrid.astro';
import Footer from '../components/Footer.astro';
import { getLatestVideos } from '../data/mockVideos';
import { getPriorityCategories } from '../data/categories';

const latestVideos = getLatestVideos(8);
const priorityCategories = getPriorityCategories(4);
---

<Layout>
  <Hero />

  <CelebraHoy />

  <section class="py-24 bg-[#0F0F0F] relative overflow-hidden" id="categorias">
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-gradient-to-b from-brand-gold/5 to-transparent pointer-events-none"></div>

    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center mb-16">
        <span class="font-['Great_Vibes'] text-4xl text-brand-gold block mb-2">Descubre</span>
        <h2 class="font-display text-4xl md:text-5xl font-bold text-white">
          Nuestras Categorías
        </h2>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {priorityCategories.map(category => (
          <a 
            href={`/categoria/${category.slug}`}
            class="group relative bg-white/5 border border-brand-gold/10 rounded-2xl p-8 hover:border-brand-gold/40 hover:bg-white/10 transition-all duration-500 hover:-translate-y-2 hover:shadow-lg hover:shadow-brand-gold/10"
          >
            <div 
              class="w-14 h-14 mb-6 text-brand-gold/60 group-hover:text-brand-gold transition-all duration-500 group-hover:scale-110 transform origin-left drop-shadow-[0_0_8px_rgba(212,175,55,0.2)] group-hover:drop-shadow-[0_0_15px_rgba(212,175,55,0.5)]"
              set:html={category.icon}
            >
            </div>

            <h3 class="font-display text-xl font-bold text-white mb-3 group-hover:text-brand-gold transition-colors">
              {category.title}
            </h3>
            <p class="text-sm text-white/50 font-light leading-relaxed group-hover:text-white/70">
              {category.description}
            </p>
            
            <div class="mt-6 flex items-center gap-2 text-brand-gold/80 text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
              Explorar <span class="text-lg leading-none">&rarr;</span>
            </div>
          </a>
        ))}
      </div>

      <div class="text-center mt-12">
        <a 
          href="/videos"
          class="inline-flex items-center gap-2 text-white/40 hover:text-brand-gold transition-colors text-sm font-medium border-b border-transparent hover:border-brand-gold pb-0.5"
        >
          Ver todas las categorías
        </a>
      </div>
    </div>
  </section>

  <div class="bg-gradient-to-b from-[#0F0F0F] to-[#151515]">
    <VideoGrid 
      videos={latestVideos}
      title="Últimos Videos"
      subtitle="Recientemente Agregados"
      showViewAll={true}
    />
  </div>

  <section class="py-24 relative overflow-hidden">
    {/* Background */}
    <div class="absolute inset-0 bg-gradient-to-br from-brand-gold/10 via-[#0F0F0F] to-brand-gold/5"></div>
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-brand-gold/10 rounded-full blur-[120px]"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-brand-gold/5 rounded-full blur-[100px]"></div>

    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-3xl mx-auto text-center bg-brand-black/40 backdrop-blur-xl border border-white/5 p-10 md:p-16 rounded-3xl shadow-2xl">
        <h2 class="font-display text-4xl md:text-6xl font-bold text-white mb-6">
          ¿Listo Para <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-gold to-brand-gold-light">Emocionar?</span>
        </h2>
        <p class="text-xl text-white/70 mb-10 font-light">
          Únete a nuestra comunidad y comparte los mejores videos hoy mismo.
        </p>
        <div class="flex flex-col sm:flex-row gap-5 justify-center">
          <a 
            href="/videos"
            class="px-10 py-4 bg-[#D4AF37] text-brand-black font-bold rounded-xl shadow-[0_0_30px_rgba(212,175,55,0.3)] hover:shadow-[0_0_50px_rgba(212,175,55,0.5)] hover:bg-[#E5C158] transition-all duration-300 transform hover:scale-105"
          >
            Ver Todos los Videos
          </a>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</Layout>